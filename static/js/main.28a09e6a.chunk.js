(this["webpackJsonpnft-minter"]=this["webpackJsonpnft-minter"]||[]).push([[0],{137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(37),s=n.n(r),c=n(28),o=n(4),i=n(5),u=n(1),l=n(3),d=n(47),p=n(2),b=Object(a.createContext)({});function h(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(null),i=Object(o.a)(c,2),h=i[0],j=i[1];function m(){return(m=Object(l.a)(Object(u.a)().mark((function e(t,n){var a,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(null),s(!0),a=new d.b({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDk4YzllNDRCRDQ5MDdBQTI4NGQ4NWRhRkJBNkMyNjI1Y2Y5ZTRhMjYiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTYzNTYwMDc5MzQxMiwibmFtZSI6ImlwZnNfa2V5In0.fgRU-eos35TM8MrCyv-wRlcxTPQEucobj2IzvzYHQ5s"}),e.next=6,a.store({name:t.name,description:t.description,image:new d.a([n],n.name,{type:n.type})});case 6:return r=e.sent,console.log(r),e.abrupt("return",r.url);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),j(e.t0);case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})))).apply(this,arguments)}return Object(p.jsx)(b.Provider,{value:{IPFSuploading:r,IPFSerror:h,IPFSupload:function(e,t){return m.apply(this,arguments)}},children:e.children})}var j=Object(a.createContext)({});function m(e){var t=e.children,n=Object(a.useState)(null),r=Object(o.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(null),d=Object(o.a)(i,2),b=d[0],h=d[1],m=Object(a.useState)(null),x=Object(o.a)(m,2),O=x[0],f=x[1],v=Object(a.useState)(!1),w=Object(o.a)(v,2),y=w[0],_=w[1];function g(){return(g=Object(l.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(!0),window.ethereum){e.next=4;break}throw Error("You need Metamask to connect !");case 4:return e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:return t=e.sent,e.next=9,window.ethereum.request({method:"eth_chainId"});case 9:if(n=e.sent,4===parseInt(n)){e.next=12;break}throw Error("Please select Rinkeby Network in your wallet");case 12:y||(k(),_(!0)),c(window.Web3.utils.toChecksumAddress(t[0])),O&&f(null),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),c(null),f(e.t0);case 21:return e.prev=21,h(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])})))).apply(this,arguments)}function k(){window.ethereum.on("accountsChanged",(function(e){e.length?(c(window.Web3.utils.toChecksumAddress(e[0])),f(null)):(c(null),f(Error("Connect Your Wallet to access the site")))})),window.ethereum.on("chainChanged",(function(e){console.log("Network Changed to Chain Id : ",parseInt(e)),window.location.reload()})),console.log("MetaMask Event Handlers Registered")}return Object(p.jsx)(j.Provider,{value:{address:s,loading:b,connectAccount:function(){return g.apply(this,arguments)},error:O,eventsRegistered:y},children:t})}function x(){return Object(a.useContext)(j)}var O=n(14),f=n(30),v=n.n(f);function w(e){return e.link?Object(p.jsx)(c.b,{className:e.disabled?v.a.buttonDisabled:v.a.button,onClick:e.onClick,disabled:e.disabled,style:Object(O.a)({},e.style),to:e.link,children:e.children}):Object(p.jsx)("button",{className:e.disabled?v.a.buttonDisabled:v.a.button,onClick:e.onClick,disabled:e.disabled,style:Object(O.a)({},e.style),children:e.children})}var y=n(78),_=n(76),g=n.n(_);function k(){return Object(p.jsx)(y.a,{className:g.a.rotate,color:"yellow"})}var N=n(17);function C(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(l.a)(Object(u.a)().mark((function e(t,n,a){var r,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new window.Web3(window.ethereum),s=new r.eth.Contract(N.a,n),e.next=4,s.methods.mint(t).estimateGas({from:a,value:0});case 4:return e.next=6,s.methods.mint(t).send({from:a,value:0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(Object(u.a)().mark((function e(t,n){var a,r,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new window.Web3(window.ethereum),r=new a.eth.Contract(N.a,t),e.next=4,r.methods.hasRole("0x0000000000000000000000000000000000000000000000000000000000000000",n).call();case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(Object(u.a)().mark((function e(t){var n,a,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new window.Web3(window.ethereum),a=new n.eth.Contract(N.a,t),e.next=4,a.methods.max_supply().call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(Object(u.a)().mark((function e(t){var n,a,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new window.Web3(window.ethereum),a=new n.eth.Contract(N.a,t),e.next=4,a.methods._tokenIdTracker().call();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(l.a)(Object(u.a)().mark((function e(t){var n,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:n=e.sent,e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error fetching maxSupply"),console.error(e.t0),n="xx";case 11:return e.prev=11,e.next=14,E(t);case 14:a=e.sent,e.next=22;break;case 17:e.prev=17,e.t1=e.catch(11),console.log("Error fetching nextTokenId"),console.error(e.t1),a="xx";case 22:return e.abrupt("return","".concat(a," / ").concat(n));case 23:case"end":return e.stop()}}),e,null,[[0,6],[11,17]])})))).apply(this,arguments)}var R=n(6),W=n(77),Y=n.n(W),B=(n(135),n(21)),J=n.n(B),P={maxWidth:"min(100%, 400px)",margin:"10px auto"};function z(e){var t,n=e.NFTAddy,r=n.NFTAddress,s=n.setNFTAddress,c=n.NFTAddressOptions,i=x().address,d=Object(a.useContext)(b),h=d.IPFSuploading,j=d.IPFSerror,m=d.IPFSupload,O=Object(a.useRef)(null),f=Object(a.useState)(!1),v=Object(o.a)(f,2),y=v[0],_=v[1],g=Object(a.useState)("xx/xx"),N=Object(o.a)(g,2),F=N[0],I=N[1],A=Object(a.useState)(""),S=Object(o.a)(A,2),E=S[0],M=S[1],W=Object(a.useState)(""),B=Object(o.a)(W,2),z=B[0],Q=B[1],U=Object(a.useState)(null),H=Object(o.a)(U,2),Z=H[0],G=H[1];function K(){return(K=Object(l.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=4;break}return e.abrupt("return",R.b.error("NFT Name should not be empty"));case 4:if(z){e.next=8;break}return e.abrupt("return",R.b.error("NFT Description should not be empty"));case 8:if(Z){e.next=10;break}return e.abrupt("return",R.b.error("Select a file to upload"));case 10:return e.next=12,T(r.value,i);case 12:if(e.sent){e.next=15;break}return e.abrupt("return",R.b.error("You don't have the rights to mint NFT"));case 15:return e.prev=15,_(!0),e.next=19,m({name:E,description:z},Z);case 19:return t=e.sent,e.next=22,C(t,r.value,i);case 22:R.b.success("Mint Successfull !"),M(""),Q(""),G(null),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(15),console.error(e.t0),R.b.error(e.t0.message),R.b.error("NFT Minting Failed");case 33:return e.prev=33,_(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[15,28,33,36]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){h&&R.b.info("Uploading NFT data To IPFS")}),[h]),Object(a.useEffect)((function(){j&&R.b.error(j.message)}),[j]),Object(a.useEffect)((function(){(function(e){return D.apply(this,arguments)})(r.value).then((function(e){return I(e)}))}),[]),Object(p.jsxs)("div",{className:J.a.wrapper,children:[Object(p.jsx)("img",{className:J.a.avatarImg,src:null===(t=c.find((function(e){return e.value===r.value})))||void 0===t?void 0:t.avatar,alt:"..."}),Object(p.jsxs)("div",{className:J.a.headbtns_wrapper,children:[Object(p.jsx)(Y.a,{className:J.a.dropdown,controlClassName:J.a.dropdown_control,menuClassName:J.a.dropdown_menu,options:c,onChange:function(e){return s(e)},value:r,placeholder:"Select an Option"}),Object(p.jsx)(w,{style:P,link:"/approve",children:"Start Migration"})]}),Object(p.jsxs)("p",{children:["Token : \xa0",Object(p.jsx)("span",{style:{color:"var(--fgText)"},children:F})]}),Object(p.jsx)("p",{children:"Name :"}),Object(p.jsx)("input",{name:"name",value:E,onChange:function(e){return M(e.target.value)},placeholder:"eg : TombHeads"}),Object(p.jsx)("p",{children:"Description (optional) :"}),Object(p.jsx)("input",{name:"description",value:z,onChange:function(e){return Q(e.target.value)},placeholder:"eg : Special Edition"}),Object(p.jsx)("p",{children:"Upload File :"}),Object(p.jsxs)("div",{className:J.a.uploadbox_wrapper,children:[Z?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{children:["File Name : ",Z.name]}),Object(p.jsxs)("p",{children:["File Type : ",Z.type]})]}):Object(p.jsx)("p",{children:"0 File(s) Uploaded"}),Object(p.jsxs)(w,{style:{backgroundColor:"var(--fgText)"},onClick:function(){Z?G(null):O.current.click()},children:[Z?"Remove File":"Upload File",Object(p.jsx)("input",{ref:O,style:{display:"none"},type:"file",onChange:function(e){return G(e.target.files[0])}})]})]}),Object(p.jsx)(w,{style:P,text:"Mint NFT",onClick:function(){return K.apply(this,arguments)},children:y?Object(p.jsx)(k,{}):"Mint"})]})}function Q(e,t,n){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(Object(u.a)().mark((function e(t,n,a){var r,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new window.Web3(window.ethereum),s=new r.eth.Contract(N.a,n),e.next=4,s.methods.setApprovalForAll(t,!0).estimateGas({from:a,value:0});case 4:return e.next=6,s.methods.setApprovalForAll(t,!0).send({from:a,value:0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=n(31),Z=n.n(H),G={maxWidth:"min(100%, 400px)",margin:"10px auto"};function K(e){var t=x().address,n=Object(a.useState)(""),r=Object(o.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(!1),d=Object(o.a)(i,2),b=d[0],h=d[1];function j(){return(j=Object(l.a)(Object(u.a)().mark((function n(){return Object(u.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.Web3.utils.isAddress(s)){n.next=2;break}return n.abrupt("return",R.b.error("Invalid Address"));case 2:return n.prev=2,h(!0),n.next=6,Q(s,e.NFTAddy.value,t);case 6:R.b.success("Contract Approved Successfully"),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0),R.b.error(n.t0.message),R.b.error("Contract Approval Failed");case 14:return n.prev=14,h(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[2,9,14,17]])})))).apply(this,arguments)}return Object(p.jsxs)("div",{className:Z.a.wrapper,children:[Object(p.jsx)("h2",{className:Z.a.heading,children:"Warning !"}),Object(p.jsx)("p",{children:"You should be very carefull with this next step."}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"Follow this checklist to make sure you have everything in place to start the migration process:"}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"1. You have minted all the NFTs you want your NFT holders to migrate to."}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"2. The Migrator Contract is already deployed (ask OxKalakaua about this)"}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{className:Z.a.highlight,children:"What you are about to do with this action is give permission to the Migrator contract to send your new NFTs to their corresponding owners."}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:"Migrator Contract Address :"}),Object(p.jsx)("input",{name:"migratorAddress",value:s,onChange:function(e){return c(e.target.value)},placeholder:"eg : 0x000000000000000000000000000000000000dEaD"}),Object(p.jsxs)("div",{className:Z.a.headbtns_wrapper,children:[Object(p.jsx)(w,{style:G,onClick:function(){return j.apply(this,arguments)},children:b?Object(p.jsx)(k,{}):"Approve"}),Object(p.jsx)(w,{style:G,link:"/",children:"Back"})]})]})}var V=n(32),q=n.n(V);function X(){var e,t=x(),n=t.address,r=t.loading,s=t.connectAccount,c=t.error;return Object(a.useEffect)((function(){n&&R.b.success("Wallet Connected",{toastId:"address"})}),[n]),Object(a.useEffect)((function(){c&&R.b.error(c.message)}),[c]),Object(a.useEffect)((function(){return s()}),[]),Object(p.jsxs)("div",{className:q.a.header,children:[Object(p.jsx)("p",{className:q.a.header__heading,to:"/",children:"NFT Minter"}),n?Object(p.jsx)("p",{className:q.a.address,children:(e=n,e.slice(0,4)+"..."+e.slice(-4))}):Object(p.jsx)("a",{className:q.a.connectButton,onClick:function(){return s()},children:r?Object(p.jsx)(k,{}):"Connect Wallet"})]})}var L=n(15),$=n.n(L);function ee(e){return Object(p.jsxs)("div",{className:$.a.footer,style:Object(O.a)({},e.style),children:[Object(p.jsxs)("p",{children:["Made with ",Object(p.jsx)("span",{style:{color:"red"},children:"\u2764"})," by :"," "]}),Object(p.jsxs)("div",{className:$.a.avatars,children:[Object(p.jsxs)("div",{className:$.a.avatarCard,children:[Object(p.jsx)("img",{className:$.a.avatarImg,src:"./tombhead.png",alt:"...",onClick:function(){return window.open("https://discordapp.com/users/394669527486562304")}}),Object(p.jsx)("p",{className:$.a.avatarCaption,children:"TombHeads"})]}),Object(p.jsxs)("div",{className:$.a.avatarCard,children:[Object(p.jsx)("img",{className:$.a.avatarImg,src:"./0xKalakaua.png",alt:"...",onClick:function(){return window.open("https://discordapp.com/users/687754112866975841")}}),Object(p.jsx)("p",{className:$.a.avatarCaption,children:"0xKalakaua"})]}),Object(p.jsxs)("div",{className:$.a.avatarCard,children:[Object(p.jsx)("img",{className:$.a.avatarImg,src:"./mandy.png",alt:"...",onClick:function(){return window.open("https://discordapp.com/users/478158762989846536")}}),Object(p.jsx)("p",{className:$.a.avatarCaption,children:"Mandy160920"})]})]})]})}n(136);var te=[{value:"0xF6E47985bEB90bC1D24E9d1a1daAF2b316c3726E",label:"TombHeads",avatar:"./artists/tombhead_320.png"},{value:"0xF6E47985bEB90bC1D24E9d1a1daAF2b316c3726E",label:"TombHeads01",avatar:"./artists/samurai_320.png"},{value:"0xF6E47985bEB90bC1D24E9d1a1daAF2b316c3726E",label:"TombHeads02",avatar:"./artists/tombhead_320.png"},{value:"0xF6E47985bEB90bC1D24E9d1a1daAF2b316c3725E",label:"DefiDino",avatar:"./artists/defidino_320.gif"}];function ne(){var e=Object(a.useState)(te[0]),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(X,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:["/","/home"],children:Object(p.jsx)(z,{NFTAddy:{NFTAddress:n,setNFTAddress:r,NFTAddressOptions:te}})}),Object(p.jsx)(i.a,{exact:!0,path:"/approve",children:Object(p.jsx)(K,{NFTAddy:n})})]}),Object(p.jsx)(ee,{style:{visibility:"hiddn"}}),Object(p.jsx)(R.a,{style:{overflowWrap:"anywhere"},position:"bottom-right"})]})}n(137);var ae=document.getElementById("root");s.a.render(Object(p.jsx)(a.StrictMode,{children:Object(p.jsx)(c.a,{children:Object(p.jsx)(m,{children:Object(p.jsx)(h,{children:Object(p.jsx)(ne,{})})})})}),ae)},15:function(e,t,n){e.exports={footer:"footer_footer__zUd-V",avatars:"footer_avatars__Dy6h-",avatarCard:"footer_avatarCard__14tNK",avatarImg:"footer_avatarImg__eyyuS",avatarCaption:"footer_avatarCaption__1ARsF"}},17:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"string","name":"_tokenURI","type":"string"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_tokenIdTracker","outputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"max_supply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]}')},21:function(e,t,n){e.exports={wrapper:"home_wrapper__2RDK_",avatarImg:"home_avatarImg__luTeV",dropdown:"home_dropdown__1IYYY",dropdown_control:"home_dropdown_control__3q42O",dropdown_menu:"home_dropdown_menu__1vI1J",headbtns_wrapper:"home_headbtns_wrapper__1LNJQ",uploadbox_wrapper:"home_uploadbox_wrapper__2zATs"}},30:function(e,t,n){e.exports={button:"button_button__3p82B",buttonDisabled:"button_buttonDisabled__31X5y"}},31:function(e,t,n){e.exports={wrapper:"approve_wrapper__2DoSB",headbtns_wrapper:"approve_headbtns_wrapper__3Cw6g",heading:"approve_heading__3yL7n",highlight:"approve_highlight__3IqEh"}},32:function(e,t,n){e.exports={header:"header_header__uGPZM",header__heading:"header_header__heading__3kuyG",connectButton:"header_connectButton__3hOB6",address:"header_address__3VRXm"}},76:function(e,t,n){e.exports={rotate:"spinner_rotate__1VWut",rotation:"spinner_rotation__1zuK-"}}},[[138,1,2]]]);
//# sourceMappingURL=main.28a09e6a.chunk.js.map